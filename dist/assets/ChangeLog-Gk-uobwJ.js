import{d as G,r as o,G as M,c as f,e as T,a as s,b as n,w as l,m as O,F as w,s as z,f as _,h as m,t as p,g as B,u as b,i as D,j as q,k as A,o as i,_ as H}from"./index-D_awN-0U.js";import{_ as J}from"./EditModal.vue_vue_type_script_setup_true_lang-m7bGAmCD.js";const K={class:"change-log-page"},P={class:"filter-box"},Q=G({__name:"ChangeLog",setup(R){const k=o([{time:"2025.1.24",content:"首页调整，卡片Card支持封面"},{time:"2025.1.23",content:"首页工作台，依赖组件"},{time:"2025.1.20",content:"架构基本确定，页面区分"},{time:"2025.1.18",content:"架构整理, Timeline组件"},{time:"2025.1.17",content:"初始化项目，部署构建到github pages"}]),c=o("技术"),u=o([]),N=o(["技术","生活"]),x=o([]),d=o(!1),v=o(),h=M(()=>k.value.filter(t=>(t.type===c.value||!c.value)&&(u.value.includes(t.tags)||!u.value.length))),C=()=>{u.value=[],x.value=[...new Set(h.value.map(t=>t.tags))]},y=async()=>{const t=await O.getDataList("changelog");k.value=[...t].sort((a,g)=>{var r;return(r=g.dateTime)==null?void 0:r.localeCompare(a.dateTime)}),C()},S=()=>{var t;v.value={type:c.value,tags:(t=u.value)==null?void 0:t[0]},d.value=!0},U=t=>{v.value={...t},d.value=!0};return y(),(t,a)=>{const g=n("el-segmented"),r=n("el-checkbox-button"),F=n("el-checkbox-group"),L=n("el-button"),V=n("el-timeline-item"),I=n("el-tag"),$=n("el-text"),j=n("el-timeline");return i(),f("div",K,[T("div",P,[s(g,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:N.value,size:"small",onChange:C},null,8,["modelValue","options"]),s(F,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),size:"small"},{default:l(()=>[(i(!0),f(w,null,z(x.value,e=>(i(),_(r,{key:e,value:e},{default:l(()=>[m(p(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),s(j,{style:{width:"100%","margin-top":"20px"}},{default:l(()=>[b(D)?(i(),_(V,{key:0},{default:l(()=>[s(L,{onClick:S},{default:l(()=>a[3]||(a[3]=[m("添加")])),_:1})]),_:1})):B("",!0),(i(!0),f(w,null,z(h.value,(e,E)=>(i(),_(V,{key:E,timestamp:e.dateTime},{default:l(()=>[T("div",null,[m(p(e.title)+" ",1),s(I,{size:"small"},{default:l(()=>[m(p(e.tags),1)]),_:2},1024),b(D)?(i(),_(L,{key:0,icon:b(A),size:"small",text:"",circle:"",onClick:q(W=>U(e),["stop"])},null,8,["icon","onClick"])):B("",!0)]),s($,{size:"small"},{default:l(()=>[m(p(e.content),1)]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1}),s(J,{visible:d.value,"onUpdate:visible":a[2]||(a[2]=e=>d.value=e),table:"changelog",data:v.value,onConfirm:y},null,8,["visible","data"])])}}}),Z=H(Q,[["__scopeId","data-v-dd280dee"]]);export{Z as default};
