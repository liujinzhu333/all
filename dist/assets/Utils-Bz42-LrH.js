import{E as _,d as V,r as f,C as $,c as i,a as p,F as b,q as w,e as T,h as z,f as v,g as y,t as D,u as r,i as U,j as g,p as F,b as k,w as h,D as I,k as M,o as s,_ as S}from"./index-BtJbFuhX.js";import{_ as j}from"./EditModal.vue_vue_type_script_setup_true_lang-DYpEkvD6.js";import{m as q}from"./manageService-Di4UyXTv.js";import"./httpService-B_3VVXSe.js";async function O(d){try{if(navigator.clipboard)await navigator.clipboard.writeText(d),_({message:"复制成功",type:"success"});else{const t=document.createElement("textarea");t.value=d,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),_({message:"复制成功",type:"success"})}}catch(t){_({message:"复制失败, 请重试",type:"error"}),console.error("复制失败:",t)}}const A={class:"util-type-item"},G={class:"item-title"},H=["src"],J=V({__name:"Utils",setup(d){const t=f([]),u=f(!1),m=f({});$(()=>{});const x=async()=>{const e=await q.getDataList("utils")||[];t.value=e==null?void 0:e.reduce((a,n)=>{const l=n.type;return a[l]||(a[l]=[]),a[l].push(n),a},{})},B=e=>{m.value={type:e},u.value=!0},E=e=>{m.value={...e},u.value=!0},L=e=>{O(e)};return x(),(e,a)=>{const n=k("el-button"),l=k("el-link"),C=k("el-space");return s(),i("div",null,[(s(!0),i(b,null,w(t.value,c=>(s(),i("div",A,[T("h4",G,[z(D(c[0].type)+" ",1),r(U)?(s(),v(n,{key:0,icon:r(F),size:"small",text:"",circle:"",onClick:g(o=>B(c[0].type),["stop"])},null,8,["icon","onClick"])):y("",!0)]),p(C,{wrap:"",size:[12,5]},{default:h(()=>[(s(!0),i(b,null,w(c,(o,K)=>(s(),v(C,{size:0},{default:h(()=>[p(l,{href:o.link,target:"_blank"},{default:h(()=>[o.logo?(s(),i("img",{key:0,style:{width:"20px",height:"20px","margin-right":"5px"},src:o.logo},null,8,H)):y("",!0),z(" "+D(o.name),1)]),_:2},1032,["href"]),p(n,{icon:r(I),size:"small",text:"",circle:"",onClick:g(N=>L(o.link),["stop"])},null,8,["icon","onClick"]),r(U)?(s(),v(n,{key:0,icon:r(M),size:"small",text:"",circle:"",onClick:g(N=>E(o),["stop"])},null,8,["icon","onClick"])):y("",!0)]),_:2},1024))),256))]),_:2},1024)]))),256)),p(j,{visible:u.value,"onUpdate:visible":a[0]||(a[0]=c=>u.value=c),table:"utils",data:m.value,onConfirm:x},null,8,["visible","data"])])}}}),X=S(J,[["__scopeId","data-v-7ee3aa4d"]]);export{X as default};
