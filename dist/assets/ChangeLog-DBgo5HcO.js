import{d as E,r as l,D as M,c as f,e as T,a as s,b as o,w as n,F as w,q as z,f as _,h as m,t as p,g as D,u as b,i as B,j as O,k as A,o as i,_ as G}from"./index-AuDxnCB1.js";import{_ as H}from"./EditModal.vue_vue_type_script_setup_true_lang-BT6I7rW6.js";import{m as J}from"./manageService-DBb7QnQd.js";const K={class:"change-log-page"},P={class:"filter-box"},Q=E({__name:"ChangeLog",setup(R){const k=l([{time:"2025.1.24",content:"首页调整，卡片Card支持封面"},{time:"2025.1.23",content:"首页工作台，依赖组件"},{time:"2025.1.20",content:"架构基本确定，页面区分"},{time:"2025.1.18",content:"架构整理, Timeline组件"},{time:"2025.1.17",content:"初始化项目，部署构建到github pages"}]),c=l("技术"),u=l([]),N=l(["技术","生活"]),x=l([]),d=l(!1),v=l(),h=M(()=>k.value.filter(t=>(t.type===c.value||!c.value)&&(u.value.includes(t.tags)||!u.value.length))),C=()=>{u.value=[],x.value=[...new Set(h.value.map(t=>t.tags))]},y=async()=>{const t=await J.getDataList("changelog");k.value=[...t].sort((a,g)=>{var r;return(r=g.dateTime)==null?void 0:r.localeCompare(a.dateTime)}),C()},S=()=>{var t;v.value={type:c.value,tags:(t=u.value)==null?void 0:t[0]},d.value=!0},U=t=>{v.value={...t},d.value=!0};return y(),(t,a)=>{const g=o("el-segmented"),r=o("el-checkbox-button"),F=o("el-checkbox-group"),L=o("el-button"),V=o("el-timeline-item"),I=o("el-tag"),$=o("el-text"),j=o("el-timeline");return i(),f("div",K,[T("div",P,[s(g,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:N.value,size:"small",onChange:C},null,8,["modelValue","options"]),s(F,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),size:"small"},{default:n(()=>[(i(!0),f(w,null,z(x.value,e=>(i(),_(r,{key:e,value:e},{default:n(()=>[m(p(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),s(j,{style:{width:"100%","margin-top":"20px"}},{default:n(()=>[b(B)?(i(),_(V,{key:0},{default:n(()=>[s(L,{onClick:S},{default:n(()=>a[3]||(a[3]=[m("添加")])),_:1})]),_:1})):D("",!0),(i(!0),f(w,null,z(h.value,(e,q)=>(i(),_(V,{key:q,timestamp:e.dateTime},{default:n(()=>[T("div",null,[m(p(e.title)+" ",1),s(I,{size:"small"},{default:n(()=>[m(p(e.tags),1)]),_:2},1024),b(B)?(i(),_(L,{key:0,icon:b(A),size:"small",text:"",circle:"",onClick:O(W=>U(e),["stop"])},null,8,["icon","onClick"])):D("",!0)]),s($,{size:"small"},{default:n(()=>[m(p(e.content),1)]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1}),s(H,{visible:d.value,"onUpdate:visible":a[2]||(a[2]=e=>d.value=e),table:"changelog",data:v.value,onConfirm:y},null,8,["visible","data"])])}}}),ee=G(Q,[["__scopeId","data-v-dd280dee"]]);export{ee as default};
