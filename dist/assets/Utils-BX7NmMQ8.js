import{E as _,d as V,r as f,G as $,c as i,a as d,F as b,s as w,m as T,e as F,h as z,f as v,g as y,t as U,u as r,i as B,j as g,p as I,b as k,w as h,H as M,k as S,o as s,_ as j}from"./index-Cqn44JDF.js";import{_ as G}from"./EditModal.vue_vue_type_script_setup_true_lang-CcVqquiw.js";async function H(p){try{if(navigator.clipboard)await navigator.clipboard.writeText(p),_({message:"复制成功",type:"success"});else{const t=document.createElement("textarea");t.value=p,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),_({message:"复制成功",type:"success"})}}catch(t){_({message:"复制失败, 请重试",type:"error"}),console.error("复制失败:",t)}}const O={class:"util-type-item"},q={class:"item-title"},A=["src"],J=V({__name:"Utils",setup(p){const t=f([]),u=f(!1),m=f({});$(()=>{});const x=async()=>{const e=await T.getDataList("utils")||[];t.value=e==null?void 0:e.reduce((a,n)=>{const l=n.type;return a[l]||(a[l]=[]),a[l].push(n),a},{})},D=e=>{m.value={type:e},u.value=!0},E=e=>{m.value={...e},u.value=!0},L=e=>{H(e)};return x(),(e,a)=>{const n=k("el-button"),l=k("el-link"),C=k("el-space");return s(),i("div",null,[(s(!0),i(b,null,w(t.value,c=>(s(),i("div",O,[F("h4",q,[z(U(c[0].type)+" ",1),r(B)?(s(),v(n,{key:0,icon:r(I),size:"small",text:"",circle:"",onClick:g(o=>D(c[0].type),["stop"])},null,8,["icon","onClick"])):y("",!0)]),d(C,{wrap:"",size:[12,5]},{default:h(()=>[(s(!0),i(b,null,w(c,(o,K)=>(s(),v(C,{size:0},{default:h(()=>[d(l,{href:o.link,target:"_blank"},{default:h(()=>[o.logo?(s(),i("img",{key:0,style:{width:"20px",height:"20px","margin-right":"5px"},src:o.logo},null,8,A)):y("",!0),z(" "+U(o.name),1)]),_:2},1032,["href"]),d(n,{icon:r(M),size:"small",text:"",circle:"",onClick:g(N=>L(o.link),["stop"])},null,8,["icon","onClick"]),r(B)?(s(),v(n,{key:0,icon:r(S),size:"small",text:"",circle:"",onClick:g(N=>E(o),["stop"])},null,8,["icon","onClick"])):y("",!0)]),_:2},1024))),256))]),_:2},1024)]))),256)),d(G,{visible:u.value,"onUpdate:visible":a[0]||(a[0]=c=>u.value=c),table:"utils",data:m.value,onConfirm:x},null,8,["visible","data"])])}}}),R=j(J,[["__scopeId","data-v-7ee3aa4d"]]);export{R as default};
