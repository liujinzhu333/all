import{d as $,r as v,c as g,e as w,a as o,w as e,b as u,m as z,g as r,F as D,s as F,f as s,h as i,t as S,u as c,x as W,y as E,i as x,j as I,k as M,z as O,o as n}from"./index-CoDhunZ9.js";import{_ as R}from"./EditModal.vue_vue_type_script_setup_true_lang-Cz0eI_QH.js";const A=$({__name:"Projects",setup(T){const C=O(),y=v([]),f=v(!1),p=v(),m=async()=>{const l=await z.getDataList("project")||[];y.value=l},h=()=>{p.value={},f.value=!0},j=l=>{p.value={...l},f.value=!0},B=l=>{if(l.startsWith("http://")||l.startsWith("https://"))window.open(l);else{const{href:t}=C.resolve(l);window.open(t)}};return m(),(l,t)=>{const L=u("el-text"),d=u("el-tag"),_=u("el-space"),b=u("el-icon"),k=u("el-link"),N=u("el-button"),P=u("el-card");return n(),g("div",null,[w("div",null,[o(_,{wrap:"","fill-ratio":25},{default:e(()=>[(n(!0),g(D,null,F(y.value,a=>(n(),s(P,{span:6,style:{"min-width":"200px"}},{footer:e(()=>[o(_,null,{default:e(()=>[a.url?(n(),s(k,{key:0,href:a.url,target:"_blank"},{default:e(()=>[o(b,null,{default:e(()=>[o(c(W))]),_:1})]),_:2},1032,["href"])):r("",!0),a.github?(n(),s(k,{key:1,href:a.github,target:"_blank"},{default:e(()=>t[6]||(t[6]=[w("img",{style:{width:"14px"},src:"https://github.githubassets.com/favicons/favicon.svg",alt:"github"},null,-1)])),_:2},1032,["href"])):r("",!0),a.manage?(n(),s(k,{key:2,onClick:V=>B(a.manage)},{default:e(()=>[o(b,null,{default:e(()=>[o(c(E))]),_:1})]),_:2},1032,["onClick"])):r("",!0),c(x)?(n(),s(N,{key:3,icon:c(M),size:"small",text:"",circle:"",onClick:I(V=>j(a),["stop"])},null,8,["icon","onClick"])):r("",!0)]),_:2},1024)]),default:e(()=>[o(_,null,{default:e(()=>[o(L,null,{default:e(()=>[i(S(a.name),1)]),_:2},1024),a.status===1?(n(),s(d,{key:0,type:"primary"},{default:e(()=>t[1]||(t[1]=[i("进行中")])),_:1})):a.status===2?(n(),s(d,{key:1,type:"success"},{default:e(()=>t[2]||(t[2]=[i("已完成")])),_:1})):a.status===0?(n(),s(d,{key:2,type:"info"},{default:e(()=>t[3]||(t[3]=[i("待开始")])),_:1})):a.status===3?(n(),s(d,{key:3,type:"warning"},{default:e(()=>t[4]||(t[4]=[i("暂停")])),_:1})):a.status===4?(n(),s(d,{key:4,type:"danger"},{default:e(()=>t[5]||(t[5]=[i("废弃")])),_:1})):r("",!0)]),_:2},1024)]),_:2},1024))),256)),c(x)?(n(),g("div",{key:0,class:"add-project",onClick:h}," 添加 ")):r("",!0)]),_:1})]),o(R,{visible:f.value,"onUpdate:visible":t[0]||(t[0]=a=>f.value=a),table:"project",data:p.value,onConfirm:m},null,8,["visible","data"])])}}});export{A as default};
