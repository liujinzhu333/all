import{d as j,r as s,z as E,c as g,e as V,a as o,b as l,w as n,F as T,m as w,f,h as m,t as _,g as M,u as z,i as O,j as q,o as u,_ as A}from"./index-CeFBHVDu.js";import{c as G}from"./index-Bakq3o7x.js";import{_ as H}from"./EditModal.vue_vue_type_script_setup_true_lang-Ws0l-ZXO.js";import{m as J}from"./manageService-Di4UyXTv.js";import"./httpService-B_3VVXSe.js";const K={class:"change-log-page"},P={class:"filter-box"},Q=j({__name:"ChangeLog",setup(R){const b=s([{time:"2025.1.24",content:"首页调整，卡片Card支持封面"},{time:"2025.1.23",content:"首页工作台，依赖组件"},{time:"2025.1.20",content:"架构基本确定，页面区分"},{time:"2025.1.18",content:"架构整理, Timeline组件"},{time:"2025.1.17",content:"初始化项目，部署构建到github pages"}]),c=s("技术"),i=s([]),B=s(["技术","生活"]),x=s([]),r=s(!1),p=s(),h=E(()=>b.value.filter(t=>(t.type===c.value||!c.value)&&(i.value.includes(t.tags)||!i.value.length))),k=()=>{i.value=[],x.value=[...new Set(h.value.map(t=>t.tags))]},C=async()=>{const t=await J.getDataList("changelog");b.value=[...t].sort((a,v)=>{var d;return(d=v.dateTime)==null?void 0:d.localeCompare(a.dateTime)}),k()},D=()=>{var t;p.value={type:c.value,tags:(t=i.value)==null?void 0:t[0]},r.value=!0},N=t=>{p.value={...t},r.value=!0};return C(),(t,a)=>{const v=l("el-segmented"),d=l("el-checkbox-button"),S=l("el-checkbox-group"),y=l("el-button"),L=l("el-timeline-item"),U=l("el-tag"),F=l("el-text"),I=l("el-timeline");return u(),g("div",K,[V("div",P,[o(v,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:B.value,size:"small",onChange:k},null,8,["modelValue","options"]),o(S,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),size:"small"},{default:n(()=>[(u(!0),g(T,null,w(x.value,e=>(u(),f(d,{key:e,value:e},{default:n(()=>[m(_(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),o(I,{style:{width:"100%","margin-top":"20px"}},{default:n(()=>[o(L,null,{default:n(()=>[o(y,{onClick:D},{default:n(()=>a[3]||(a[3]=[m("添加")])),_:1})]),_:1}),(u(!0),g(T,null,w(h.value,(e,$)=>(u(),f(L,{key:$,timestamp:e.dateTime},{default:n(()=>[V("div",null,[m(_(e.title)+" ",1),o(U,{size:"small"},{default:n(()=>[m(_(e.tags),1)]),_:2},1024),z(G)?(u(),f(y,{key:0,icon:z(q),size:"small",text:"",circle:"",onClick:O(W=>N(e),["stop"])},null,8,["icon","onClick"])):M("",!0)]),o(F,{size:"small"},{default:n(()=>[m(_(e.content),1)]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1}),o(H,{visible:r.value,"onUpdate:visible":a[2]||(a[2]=e=>r.value=e),table:"changelog",data:p.value,onConfirm:C},null,8,["visible","data"])])}}}),ae=A(Q,[["__scopeId","data-v-003ef3d9"]]);export{ae as default};
