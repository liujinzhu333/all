import{K as w,d as b,r as i,G as h,c as V,a as t,w as u,b as r,F as L,m as y,u as C,p as F,e as P,o as U}from"./index-C0-ZCBi5.js";class x{async upload(o){const l=new FormData;return l.append("file",o.file),l.append("name","123"),w.post("/api/file/upload",l)}}const B=new x,D=["src"],I=b({__name:"img",setup(p){const o=async a=>(await B.upload({file:a,name:"12"}),!1),l=i([]),c=i(""),n=i(!1),d=h(()=>"https://liujinzhu333.github.io/album/"),m=(a,e)=>{console.log(a,e)},f=a=>{c.value=a.url,n.value=!0};return(async()=>{const a=await y.getDataList("files");l.value=a.map(e=>({name:e.originalname,url:`${d.value}${e.path}`}))})(),(a,e)=>{const _=r("el-icon"),v=r("el-upload"),g=r("el-dialog");return U(),V(L,null,[t(v,{"file-list":l.value,"onUpdate:fileList":e[0]||(e[0]=s=>l.value=s),"list-type":"picture-card","on-preview":f,"on-remove":m,"before-upload":o},{default:u(()=>[t(_,null,{default:u(()=>[t(C(F))]),_:1})]),_:1},8,["file-list"]),t(g,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s)},{default:u(()=>[P("img",{"w-full":"",src:c.value,alt:"Preview Image"},null,8,D)]),_:1},8,["modelValue"])],64)}}});export{I as default};
